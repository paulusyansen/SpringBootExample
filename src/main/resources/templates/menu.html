<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" sxmlns:th="http://www.thymeleaf.org">
<body>
  <div th:fragment="main">
    <nav class="navbar navbar-expand-md bg-dark navbar-dark fixed-top">
		<a class="navbar-brand" href="/"  th:text="${title}"></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
		    <ul class="navbar-nav">
			      <li class="nav-item">
			        <a class="nav-link" th:classappend="${currentPage == 'home'} ? 'active'" href="/" th:text="#{menu.home}">Home</a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" th:classappend="${currentPage == 'chart'} ? 'active'" href="/chart" th:text="#{menu.chart}">Chart</a>
			      </li>
			      <li class="nav-item" th:if="${ #authorization.expression('isAuthenticated()') and #strings.contains(#authentication.principal.authorities,'ADMIN')}">
			        <a class="nav-link" th:classappend="${currentPage == 'form'} ? 'active'" href="/form" th:text="#{menu.form}">Data</a>
			      </li>
			      <li class="nav-item" th:if="${#authorization.expression('isAuthenticated()')}">
			      	<a class="nav-link"  th:href="@{/logout}" th:text="#{menu.logout}">Log out</a>
			      </li>
			      <li class="nav-item" th:if="${#authorization.expression('isAnonymous()')}">
			      	<a class="nav-link" th:classappend="${currentPage == 'login'} ? 'active'" th:href="@{/login}" th:text="#{menu.login}">Log in</a>
			      </li>
			</ul>
		 </div>
	</nav>
  </div>
</body>